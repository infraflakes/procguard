{{define "app/index.html"}}
<div id="app-management-view" style="display: none">
  <div class="sub-nav">
    <button onclick="showSubView('search-view', 'app-management-view')">
      Tìm kiếm
    </button>
    <button onclick="showSubView('blocklist-view', 'app-management-view')">
      Xem ứng dụng bị chặn
    </button>
  </div>
  <div id="search-view">
    <h2>Bảng điều khiển ProcGuard</h2>
    <div id="search-container">
      <input id="q" placeholder="nhập tên ứng dụng" />
      <button onclick="search()">Tìm kiếm Log</button>
      <button onclick="block()">Chặn mục đã chọn</button>
      <span id="block-status" class="status-message"></span>
    </div>
    <div id="time-filter-container">
      <span>Lọc theo thời gian:</span>
      <button onclick="search({since: '1 hour ago', until: 'now'})">
        1 giờ qua
      </button>
      <button onclick="search({since: '24 hours ago', until: 'now'})">
        24 giờ qua
      </button>
      <button onclick="search({since: '7 days ago', until: 'now'})">
        7 ngày qua
      </button>
      <br />
      <span>Từ: </span><input type="date" id="since_date" />
      <input type="time" id="since_time" step="60" /> <span>Đến: </span
      ><input type="date" id="until_date" />
      <input type="time" id="until_time" step="60" />
      <button onclick="search()">Xác nhận</button>
    </div>
    <h3>Kết quả tìm kiếm</h3>
    <div id="results"></div>
  </div>
  <div id="blocklist-view" style="display: none">
    <h2>Các ứng dụng bị chặn</h2>
    <div id="blocklist-controls">
      <button onclick="unblockSelected()">Bỏ chặn mục đã chọn</button>
      <button onclick="clearBlocklist()" style="background-color: #d9534f">
        Xóa toàn bộ danh sách chặn
      </button>
      <button onclick="saveBlocklist()">Lưu danh sách chặn</button>
      <button onclick="document.getElementById('load-input').click()">
        Tải lên danh sách chặn
      </button>
      <input
        type="file"
        id="load-input"
        style="display: none"
        onchange="loadBlocklistFile(event)"
      />
      <span id="unblock-status" class="status-message"></span>
    </div>
    <div id="blocklist-items"></div>
  </div>
</div>
{{end}}
